{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_create_class.js","src/nodeFunctions.js","<<jsx-config-pragma.js>>","src/movingStructure.js","src/canvas.js","src/recSelection.js","src/textsDocument.js","src/formAddText.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export class NodeFunction {\n  constructor(classNameTextLine = 'text-line') {\n    this.classNameTextLine = classNameTextLine;\n  }\n\n  findLineElementUnderCoordinates(className, { x, y }) {\n    // const elementMouseIsOver = document.elementFromPoint(x, y);\n    const elements = document.elementsFromPoint(x, y);\n    const foundElement = elements.find(node => node.className === className);\n\n    return foundElement;\n  }\n\n  findElementWithLetter(point) {\n    const foundTextLineElement = this.findLineElementUnderCoordinates(\n      this.classNameTextLine,\n      point\n    );\n\n    return foundTextLineElement.nodeName === 'WORD'\n      ? foundTextLineElement\n      : null;\n  }\n\n  replaceSplitsCopyTextElement(textElement) {\n    if (!textElement) return false;\n\n    try {\n      const text_nodes = Array.from(textElement.childNodes).filter(node => {\n        return (\n          node.nodeType == Node.TEXT_NODE &&\n          node.nodeValue.match(/[a-zA-Z0-9]{2,}/)\n        );\n      });\n\n      if (text_nodes.length === 0) return false;\n\n      text_nodes.forEach(node => {\n        // const words = node.nodeValue.split(/(\\s+)/);\n        const letters = node.nodeValue.split('');\n\n        const fragment = document.createDocumentFragment();\n\n        letters.forEach((letter, index) => {\n          const letterElem = document.createElement('word');\n          letterElem.className = this.classNameTextLine;\n          letterElem.dataset.number = index;\n          letterElem.textContent = letter;\n          fragment.appendChild(letterElem);\n        });\n        this.replaceChild(fragment, node);\n      });\n    } catch {\n      return false;\n    }\n\n    return true;\n  }\n\n  replaceChild(newChild, oldChild) {\n    oldChild.parentNode.replaceChild(newChild, oldChild);\n  }\n\n  getHitLetter(hit_elem, x, y) {\n    let hit_letter = '';\n\n    if (!hit_elem) return hit_letter;\n\n    //text contents of hit element\n    const text_nodes = Array.from(hit_elem.childNodes).filter(node => {\n      return (\n        node.nodeType == Node.TEXT_NODE && node.nodeValue.match(/[a-zA-Z]{2,}/)\n      );\n    });\n\n    //bunch of text under cursor? break it into words\n    if (text_nodes.length === 0) return hit_letter;\n\n    const original_content = hit_elem.cloneNode(true);\n\n    text_nodes.forEach(node => {\n      // const words = node.nodeValue.split(/(\\s+)/);\n      const letters = node.nodeValue.split('');\n\n      const fragment = document.createDocumentFragment();\n\n      letters.forEach((letter, index) => {\n        const letterElem = document.createElement('word');\n        letterElem.className = this.classNameTextLine;\n        letterElem.dataset.number = index;\n        letterElem.textContent = letter;\n        fragment.appendChild(letterElem);\n      });\n      // node.parentNode.replaceChild(fragment, node);\n      this.replaceChild(fragment, node);\n    });\n\n    //get the exact word under cursor\n    const foundTextLineElement = this.findLineElementUnderCoordinates(\n      this.classNameTextLine,\n      { x, y }\n    );\n\n    if (foundTextLineElement.nodeName === 'WORD') {\n      hit_letter = foundTextLineElement.textContent;\n    }\n\n    // hit_elem.parentNode.replaceChild(original_content, hit_elem);\n    this.replaceChild(original_content, hit_elem);\n\n    return hit_letter;\n  }\n}\n",null,"export class MovingStructure {\n  constructor() {\n    this.clearStructure();\n  }\n\n  clearStructure() {\n    this.elementFrom = null;\n    this.originalElementFrom = null;\n\n    this.elementTo = null;\n    this.originalElementTo = null;\n\n    this.movingLetters = [];\n    this.elementToMove = null;\n  }\n\n  getTextMovingLetters() {\n    return this.movingLetters.reduce(\n      (result, element) => result + element.textContent,\n      ''\n    );\n  }\n\n  addElementToStructure(element) {\n    this.movingLetters.push(element);\n  }\n\n  deleteElementFromStructure(element) {\n    this.movingLetters = this.movingLetters.filter(\n      letterElement => letterElement !== element\n    );\n  }\n\n  clearMovingLetters() {\n    this.movingLetters = [];\n  }\n\n  addElementFrom(elementFrom) {\n    this.elementFrom = elementFrom;\n    this.originalElementFrom = elementFrom.cloneNode(true);\n  }\n\n  addElementTo(elementFrom) {\n    this.elementTo = elementFrom;\n    this.originalElementTo = elementFrom.cloneNode(true);\n  }\n\n  sortMovingLetters() {\n    this.movingLetters.sort(\n      (element1, element2) =>\n        Number(element1.dataset.number) - Number(element2.dataset.number)\n    );\n  }\n\n  countInMovingLetters() {\n    return this.movingLetters.length;\n  }\n  isElementInStructure(element) {\n    return this.movingLetters.find(letterElement => letterElement === element);\n  }\n\n  isExistOriginalFromDocument() {\n    return !!this.elementFrom && !!this.originalElementFrom;\n  }\n\n  isExistOriginalToDocument() {\n    return !!this.elementTo && !!this.originalElementTo;\n  }\n\n  isMovingLettersNotEmpty() {\n    return !!this.elementFrom && this.movingLetters.length > 0;\n  }\n\n  isSavedElementFromEqualElementFrom(element) {\n    return (\n      this.elementFrom === element || this.elementFrom === element.parentNode\n    );\n  }\n\n  isElementToEqualElementFrom(elementTo) {\n    return (\n      this.elementFrom === elementTo ||\n      this.elementFrom === elementTo.parentNode\n    );\n  }\n\n  isSavedElement(element) {\n    return !!this.elementFrom;\n  }\n\n  isEmptyMovingLetters() {\n    return this.movingLetters.length === 0;\n  }\n\n  toMoveLetters() {\n    if (!this.elementToMove) return;\n\n    if (this.isExistOriginalToDocument()) {\n      this.#movingChosenLetterToAnotherElement();\n    } else {\n      this.#movingChosenLetterToThisElement();\n    }\n  }\n\n  #movingChosenLetterToAnotherElement() {\n    //add\n    const originalTextContent = this.originalElementTo.textContent;\n    const numberInsertPosition = this.elementToMove.dataset.number;\n    const insertText = this.getTextMovingLetters();\n\n    this.originalElementTo.textContent =\n      originalTextContent.substring(0, numberInsertPosition) +\n      insertText +\n      originalTextContent.substring(numberInsertPosition);\n\n    const arrayIndexToDelete = this.#createArrayIndexToDelete();\n    // delete\n    const originalTextContentFrom = this.originalElementFrom.textContent;\n    this.originalElementFrom.textContent = this.#deleteMovingLetters(\n      originalTextContentFrom,\n      arrayIndexToDelete\n    );\n  }\n\n  #movingChosenLetterToThisElement() {\n    // TODO\n    //Треба паревірити чи не кидаємо на \"вибраний\" елемент\n    //add\n    const originalTextContent = this.originalElementFrom.textContent;\n    const numberInsertPosition = this.elementToMove.dataset.number;\n    const insertText = this.getTextMovingLetters();\n\n    const newTextContent =\n      originalTextContent.substring(0, numberInsertPosition) +\n      insertText +\n      originalTextContent.substring(numberInsertPosition);\n\n    const arrayIndexToDelete = this.#createArrayIndexToDelete(\n      Number(numberInsertPosition),\n      Number(insertText.length)\n    );\n\n    // delete\n    this.originalElementFrom.textContent = this.#deleteMovingLetters(\n      newTextContent,\n      arrayIndexToDelete\n    );\n  }\n\n  #createArrayIndexToDelete(numberInsertPosition = 0, countInsertLetter = 0) {\n    const isAddOptions = !this.isExistOriginalToDocument();\n\n    const indexesToRemove = this.movingLetters.map(element => {\n      let index = Number(element.dataset.number);\n      if (isAddOptions && index >= numberInsertPosition) {\n        index += countInsertLetter;\n      }\n\n      return index;\n    });\n\n    indexesToRemove.sort((a, b) => b - a);\n\n    return indexesToRemove;\n  }\n\n  #deleteMovingLetters(text, indexesToRemove) {\n    let chars = text.split('');\n    indexesToRemove.forEach(index => {\n      chars.splice(index, 1);\n    });\n\n    return chars.join('');\n  }\n}\n","export class Canvas {\n  constructor(\n    { classNameCanvas, elementOwner } = {\n      classNameCanvas: 'canvas-field',\n      elementOwner: null,\n    }\n  ) {\n    this.canvasRef = document.querySelector(\n      `.${classNameCanvas || 'canvas-field'}`\n    );\n    this.elementOwner = elementOwner;\n\n    this.#addListeners();\n    this.isAllowDrawing = false;\n  }\n\n  #addListeners() {\n    window.addEventListener('resize', this.resizeCanvas);\n    document.addEventListener('DOMContentLoaded', this.listenerCanvas);\n  }\n\n  resizeCanvas = () => {\n    if (this.elementOwner) {\n      const recElementOwner = this.elementOwner.getBoundingClientRect();\n\n      this.canvasRef.width = recElementOwner.width;\n      this.canvasRef.height = recElementOwner.height;\n    } else {\n      this.canvasRef.width = window.innerWidth;\n      this.canvasRef.height = window.innerHeight;\n    }\n  };\n\n  listenerCanvas = () => {\n    let isDrawing = false;\n    let startX, startY;\n\n    const canvas = this.canvasRef;\n    const ctx = canvas.getContext('2d');\n\n    const stopDrawing = () => {\n      isDrawing = false;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    };\n\n    canvas.addEventListener('mousemove', event => {\n      if (!isDrawing || !this.isAllowDrawing) return;\n\n      const x = event.clientX - canvas.getBoundingClientRect().left;\n      const y = event.clientY - canvas.getBoundingClientRect().top;\n\n      const width = x - startX;\n      const height = y - startY;\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.beginPath();\n      ctx.strokeStyle = 'gray';\n      ctx.rect(startX, startY, width, height);\n      ctx.stroke();\n    });\n\n    canvas.addEventListener('mousedown', event => {\n      isDrawing = true;\n      startX = event.clientX - canvas.getBoundingClientRect().left;\n      startY = event.clientY - canvas.getBoundingClientRect().top;\n    });\n\n    canvas.addEventListener('mouseup', stopDrawing);\n\n    canvas.addEventListener('mouseleave', stopDrawing);\n  };\n}\n","export class RecSelection {\n  constructor() {\n    this.clearRec();\n  }\n\n  setStartPoint({ x, y }) {\n    this.startPoint = { x, y };\n  }\n\n  setCurrentPoint({ x, y }) {\n    this.currentPoint = { x, y };\n  }\n\n  clearRec() {\n    this.startPoint = { x: 0, y: 0 };\n    this.currentPoint = { x: 0, y: 0 };\n  }\n\n  isElementInRecSelection(recElement) {\n    return (\n      this.isCoordinateYInRec(recElement.top) ||\n      this.isCoordinateYInRec(recElement.bottom) ||\n      this.isStartSelectInElementOnAxisY(recElement)\n    );\n  }\n\n  isElementUnderRecSelection(recElement) {\n    return (\n      recElement.top > this.currentPoint.y &&\n      recElement.bottom > this.currentPoint.y\n    );\n  }\n\n  isCoordinateYInRec(y) {\n    return (\n      (this.startPoint.y <= y && y <= this.currentPoint.y) ||\n      (this.currentPoint.y <= y && y <= this.startPoint.y)\n    );\n  }\n\n  isCoordinateXInRec(x) {\n    return (\n      (this.startPoint.x <= x && x <= this.currentPoint.x) ||\n      (this.currentPoint.x <= x && x <= this.startPoint.x)\n    );\n  }\n\n  isStartSelectInElementOnAxisY(recElement) {\n    return (\n      recElement.top <= this.startPoint.y &&\n      this.startPoint.y <= recElement.bottom\n    );\n  }\n\n  oppositeVerticalAngle() {\n    return {\n      x: this.startPoint.x,\n      y: this.currentPoint.y,\n    };\n  }\n\n  rightCoordinate() {\n    return Math.max(this.startPoint.x, this.currentPoint.x);\n  }\n\n  leftCoordinate() {\n    return Math.min(this.startPoint.x, this.currentPoint.x);\n  }\n\n  topCoordinate() {\n    return Math.min(this.startPoint.y, this.currentPoint.y);\n  }\n\n  bottomCoordinate() {\n    return Math.max(this.startPoint.y, this.currentPoint.y);\n  }\n\n  isElementInSelectedAxisX(recElement) {\n    return (\n      ((this.leftCoordinate() <= recElement.left &&\n        recElement.left <= this.rightCoordinate()) ||\n        (this.leftCoordinate() <= recElement.right &&\n          recElement.right <= this.rightCoordinate())) &&\n      ((this.topCoordinate() <= recElement.top &&\n        recElement.top <= this.bottomCoordinate()) ||\n        (this.topCoordinate() <= recElement.bottom &&\n          recElement.bottom <= this.bottomCoordinate()))\n    );\n  }\n\n  isElementInSelectedAxisY(recElement) {\n    return true;\n  }\n\n  isElementInAnotherLine(recElement, recTestElement) {\n    return (\n      recTestElement.bottom < recElement.top ||\n      recTestElement.top > recElement.bottom\n    );\n  }\n}\n","import { NodeFunction } from './nodeFunctions';\nimport { MovingStructure } from './movingStructure';\nimport { Canvas } from './canvas';\nimport { RecSelection } from './recSelection';\n\nexport class TextsDocument {\n  #statuses = {\n    ready: 'READY',\n    selected_rec: 'SELECTED_REC',\n    moving_letter: 'MOVING_LETTER',\n    selected_letter: 'SELECTED_LETTED',\n    wait_moving_rec: 'WAIT_MOVING_REC',\n  };\n\n  #currentStatusOperation = this.#statuses.ready;\n\n  #isControlDown = false;\n  #isMouseDown = false;\n  #isShowMovingText = false;\n\n  constructor(\n    classNameTextsDocument = 'texts-document',\n    classNameTextLine = 'text-line',\n    classNameMovingText = 'moving-test'\n  ) {\n    this.classNameTextLine = classNameTextLine;\n\n    this.textsDocumentRef = document.querySelector(\n      `.${classNameTextsDocument}`\n    );\n\n    this.movingTextsDocumentRef = document.querySelector(\n      `.${classNameMovingText}`\n    );\n\n    this.nodeFunction = new NodeFunction(classNameTextLine);\n    this.movingStructure = new MovingStructure();\n\n    this.recSelection = new RecSelection();\n\n    this.canvas = new Canvas({\n      elementOwner: this.textsDocumentRef,\n    });\n    this.canvas.resizeCanvas();\n\n    this.#addListeners();\n  }\n\n  addText = text => {\n    const htmlText = `<p class=\"${this.classNameTextLine}\" >${text}</p>`;\n    this.textsDocumentRef.insertAdjacentHTML('beforeend', htmlText);\n  };\n\n  #addListeners() {\n    document.addEventListener('mousedown', this.#handleMouseDown);\n    document.addEventListener('mouseup', this.#handleMouseUp);\n    document.addEventListener('keyup', this.#handleKeyUp);\n  }\n\n  #restoreOriginalElement() {\n    if (this.movingStructure.isExistOriginalFromDocument()) {\n      this.nodeFunction.replaceChild(\n        this.movingStructure.originalElementFrom,\n        this.movingStructure.elementFrom\n      );\n    }\n\n    if (this.movingStructure.isExistOriginalToDocument()) {\n      this.nodeFunction.replaceChild(\n        this.movingStructure.originalElementTo,\n        this.movingStructure.elementTo\n      );\n    }\n  }\n\n  #clearToMovingStructure() {\n    this.#restoreOriginalElement();\n\n    this.movingStructure.clearStructure();\n  }\n\n  #isUnderCursorSelectedTextElement(point) {\n    const foundElementTo = this.nodeFunction.findLineElementUnderCoordinates(\n      this.classNameTextLine,\n      point\n    );\n\n    if (!foundElementTo) return false;\n\n    return !!this.movingStructure.isElementInStructure(foundElementTo);\n  }\n\n  #addMovingLetterToMovingStructure(point) {\n    const foundElementTo = this.nodeFunction.findLineElementUnderCoordinates(\n      this.classNameTextLine,\n      point\n    );\n\n    if (!foundElementTo) return;\n\n    if (!this.movingStructure.isElementToEqualElementFrom(foundElementTo)) {\n      this.movingStructure.addElementTo(foundElementTo);\n\n      if (!this.nodeFunction.replaceSplitsCopyTextElement(foundElementTo)) {\n        this.#clearToMovingStructure();\n        return false;\n      }\n    }\n\n    const foundElementToMove = this.nodeFunction.findElementWithLetter(point);\n\n    if (!foundElementToMove || !foundElementToMove.textContent) return false;\n\n    this.movingStructure.elementToMove = foundElementToMove;\n  }\n\n  #addLetterToMovingStructure(point) {\n    const foundElementFrom = this.nodeFunction.findLineElementUnderCoordinates(\n      this.classNameTextLine,\n      point\n    );\n\n    // We don't found element or we have already added a letter from another block\n    if (\n      !foundElementFrom ||\n      (this.movingStructure.isMovingLettersNotEmpty() &&\n        !this.movingStructure.isSavedElementFromEqualElementFrom(\n          foundElementFrom\n        ))\n    )\n      return false;\n\n    // is item has already been added and transformed\n    if (\n      !this.movingStructure.isSavedElement() ||\n      !this.movingStructure.isSavedElementFromEqualElementFrom(foundElementFrom)\n    ) {\n      this.movingStructure.addElementFrom(foundElementFrom);\n\n      if (!this.nodeFunction.replaceSplitsCopyTextElement(foundElementFrom)) {\n        this.#clearToMovingStructure();\n        return false;\n      }\n    }\n\n    const foundElementWithLetter =\n      this.nodeFunction.findElementWithLetter(point);\n\n    if (!foundElementWithLetter || !foundElementWithLetter.textContent) {\n      this.#clearToMovingStructure();\n      return false;\n    }\n\n    if (this.movingStructure.isElementInStructure(foundElementWithLetter)) {\n      this.movingStructure.deleteElementFromStructure(foundElementWithLetter);\n      foundElementWithLetter.dataset.selection = false;\n    } else {\n      this.movingStructure.addElementToStructure(foundElementWithLetter);\n      foundElementWithLetter.dataset.selection = true;\n    }\n\n    return this.movingStructure.isMovingLettersNotEmpty();\n  }\n\n  #movingChosenLetter(point) {\n    this.#addMovingLetterToMovingStructure(point);\n    this.movingStructure.toMoveLetters();\n  }\n\n  // * Selected area\n  #mouseSelectionRec = e => {\n    // * 0. Set current position\n    this.recSelection.setCurrentPoint({\n      x: e.clientX,\n      y: e.clientY,\n    });\n\n    // * 1. lost a previously found string\n    const elementFrom = this.movingStructure.elementFrom;\n    if (\n      !!elementFrom &&\n      !this.recSelection.isElementInRecSelection(\n        elementFrom.getBoundingClientRect()\n      )\n    ) {\n      this.#clearToMovingStructure();\n      this.#clearUnnecessarySelectedElement();\n    }\n\n    // * 2. Search for a element with string\n    if (!this.movingStructure.isExistOriginalFromDocument())\n      this.#foundWorkElement();\n\n    // * 3. Haven't found yet\n    if (!this.movingStructure.isExistOriginalFromDocument()) return;\n\n    // * 4. Look for letters\n    this.#foundAndSelectLetterInRec();\n  };\n\n  #foundWorkElement() {\n    const textElements = this.textsDocumentRef.querySelectorAll(\n      `.${this.classNameTextLine}`\n    );\n\n    if (textElements.length === 0) return;\n\n    let foundElementFrom = null;\n\n    for (const element of textElements) {\n      const recElement = element.getBoundingClientRect();\n\n      if (\n        this.recSelection.isElementInRecSelection(recElement) &&\n        this.#isElementWithText(element)\n      ) {\n        foundElementFrom = element;\n        break;\n      }\n\n      if (this.recSelection.isElementUnderRecSelection(recElement)) break;\n    }\n\n    if (!foundElementFrom) return;\n\n    this.movingStructure.addElementFrom(foundElementFrom);\n  }\n\n  #isElementWithText(element) {\n    this.movingStructure.addElementFrom(element);\n\n    this.nodeFunction.replaceSplitsCopyTextElement(element);\n\n    const foundLetters = this.#foundLetterInRec(true);\n\n    if (foundLetters.length === 0) {\n      this.#clearToMovingStructure();\n      return false;\n    }\n    return true;\n  }\n\n  #foundLetterInRec(onlyFirst = false) {\n    const children = this.movingStructure.elementFrom.children;\n\n    const leftCoordinate = this.recSelection.leftCoordinate();\n    const rightCoordinate = this.recSelection.rightCoordinate();\n\n    const newMovingLetters = [];\n\n    for (const elementWithLetter of children) {\n      const rectElementWithLetter = elementWithLetter.getBoundingClientRect();\n\n      if (rectElementWithLetter.right < leftCoordinate) continue;\n      if (rectElementWithLetter.left > rightCoordinate) continue; //For multiline text there can't write break\n\n      if (\n        this.recSelection.isElementInSelectedAxisX(rectElementWithLetter) &&\n        this.recSelection.isElementInSelectedAxisY(rectElementWithLetter)\n      ) {\n        newMovingLetters.push(elementWithLetter);\n        if (onlyFirst) break;\n      }\n    }\n\n    return newMovingLetters;\n  }\n\n  #foundAndSelectLetterInRec() {\n    const newMovingLetters = this.#foundLetterInRec();\n\n    if (newMovingLetters.length === 0) {\n      this.movingStructure.clearMovingLetters();\n      this.#clearUnnecessarySelectedElement();\n      return;\n    }\n\n    this.#combineWithMovingLetters(newMovingLetters);\n    this.#clearUnnecessarySelectedElement();\n  }\n\n  #combineWithMovingLetters(newMovingLetters) {\n    const movingLetters = this.movingStructure.movingLetters;\n\n    for (let i = movingLetters.length - 1; i >= 0; i--) {\n      const indexElement = newMovingLetters.findIndex(\n        element => element === movingLetters[i]\n      );\n\n      if (indexElement === -1) {\n        // delete from movingLetters\n        movingLetters[i].dataset.selection = false;\n        movingLetters.splice(i, 1);\n      } else {\n        //delete from newMovingLetters\n        newMovingLetters.splice(indexElement, 1);\n      }\n    }\n\n    if (newMovingLetters.length > 0) {\n      const rectFirstLetter =\n        movingLetters.length > 0\n          ? movingLetters[0].getBoundingClientRect()\n          : newMovingLetters[0].getBoundingClientRect();\n\n      for (const elementWithLetter of newMovingLetters) {\n        if (\n          rectFirstLetter &&\n          this.recSelection.isElementInAnotherLine(\n            rectFirstLetter,\n            elementWithLetter.getBoundingClientRect()\n          )\n        )\n          continue;\n\n        this.movingStructure.addElementToStructure(elementWithLetter);\n        elementWithLetter.dataset.selection = true;\n      }\n    }\n\n    this.movingStructure.sortMovingLetters();\n  }\n\n  #clearUnnecessarySelectedElement() {\n    const selectedElements = this.textsDocumentRef.querySelectorAll(\n      `.${this.classNameTextLine}[data-selection = \"true\"]`\n    );\n    for (const element of selectedElements) {\n      if (this.movingStructure.isElementInStructure(element)) continue;\n      element.dataset.selection = false;\n    }\n  }\n\n  // * Moving text\n  #showMovingText = () => {\n    this.movingTextsDocumentRef.style.display = 'block';\n    this.movingTextsDocumentRef.textContent =\n      this.movingStructure.getTextMovingLetters();\n\n    this.#isShowMovingText = true;\n  };\n\n  #hideMovingText = () => {\n    this.movingTextsDocumentRef.style.display = 'none';\n    this.#isShowMovingText = false;\n  };\n\n  #moveMovingText = point => {\n    this.movingTextsDocumentRef.style.left = point.x + 'px';\n    this.movingTextsDocumentRef.style.top = point.y + 5 + 'px';\n  };\n\n  // * Status operation\n  #isStatusOperation(status) {\n    return this.#currentStatusOperation === status;\n  }\n\n  #toStatusSelectedRec(point) {\n    this.#currentStatusOperation = this.#statuses.selected_rec;\n    this.canvas.isAllowDrawing = true;\n    this.recSelection.setStartPoint(point);\n\n    document.addEventListener('mousemove', this.#handleMouseSelectionRec);\n    document.removeEventListener('mousemove', this.#handleMouseMoveLetter);\n  }\n\n  #toStatusSelectedLetter() {\n    this.#currentStatusOperation = this.#statuses.selected_letter;\n    document.addEventListener('mousemove', this.#handleMouseMoveLetter);\n  }\n\n  #toStatusMovingLetter() {\n    this.#currentStatusOperation = this.#statuses.moving_letter;\n  }\n\n  #toStatusReady() {\n    this.#currentStatusOperation = this.#statuses.ready;\n  }\n\n  #toStatusWaitMovingRec() {\n    this.#currentStatusOperation = this.#statuses.wait_moving_rec;\n  }\n\n  #hideMovingElements() {\n    this.#hideMovingText();\n    this.recSelection.clearRec();\n    this.canvas.isAllowDrawing = false;\n  }\n\n  // * Handles\n  #handleMouseDown = e => {\n    this.#isMouseDown = true;\n    this.#isControlDown = e.ctrlKey;\n\n    const currentPoint = {\n      x: e.clientX,\n      y: e.clientY,\n    };\n\n    if (this.#isStatusOperation(this.#statuses.wait_moving_rec)) {\n      if (this.#isUnderCursorSelectedTextElement(currentPoint)) {\n        this.#toStatusMovingLetter();\n        document.addEventListener('mousemove', this.#handleMouseMoveLetter);\n      } else {\n        this.#clearToMovingStructure();\n      }\n      return;\n    }\n\n    if (this.#addLetterToMovingStructure(currentPoint)) {\n      this.#toStatusSelectedLetter();\n    } else {\n      this.#toStatusSelectedRec(currentPoint);\n    }\n  };\n\n  #handleMouseUp = e => {\n    this.#isMouseDown = false;\n    this.#hideMovingElements();\n\n    const currentPoint = {\n      x: e.clientX,\n      y: e.clientY,\n    };\n\n    document.removeEventListener('mousemove', this.#handleMouseMoveLetter);\n    document.removeEventListener('mousemove', this.#handleMouseSelectionRec);\n\n    if (this.#isControlDown) return;\n\n    if (this.#isStatusOperation(this.#statuses.moving_letter)) {\n      this.#movingChosenLetter(currentPoint);\n    }\n\n    if (\n      this.#isStatusOperation(this.#statuses.selected_rec) &&\n      !this.movingStructure.isEmptyMovingLetters()\n    ) {\n      this.#toStatusWaitMovingRec();\n    } else {\n      this.#clearToMovingStructure();\n      this.#toStatusReady();\n    }\n  };\n\n  #handleMouseMoveLetter = e => {\n    if (\n      !this.#isStatusOperation(this.#statuses.selected_letter) &&\n      !this.#isStatusOperation(this.#statuses.moving_letter)\n    )\n      return;\n\n    this.#toStatusMovingLetter();\n\n    if (!this.#isShowMovingText) this.#showMovingText();\n\n    this.#moveMovingText({ x: e.clientX, y: e.clientY });\n  };\n\n  #handleMouseSelectionRec = _.throttle(this.#mouseSelectionRec, 100, {\n    trailing: true,\n  });\n\n  #handleKeyUp = e => {\n    if (e.key !== 'Control') return;\n\n    this.#isControlDown = false;\n\n    if (!this.#isMouseDown) this.#clearToMovingStructure();\n  };\n}\n","export class FormAddText {\n  constructor(addText, classNameForm = 'text-form') {\n    this.textForm = document.querySelector(`.${classNameForm}`);\n    this.addText = addText;\n    this.#addListener();\n  }\n\n  #addListener() {\n    this.textForm.addEventListener('submit', this.#handleSubmitForm.bind(this));\n  }\n\n  #handleSubmitForm(event) {\n    const form = event.target;\n    event.preventDefault();\n\n    this.addText(form.elements.text.value.trim());\n\n    form.reset();\n  }\n}\n","import './css/styles.css';\nimport { TextsDocument } from './textsDocument';\nimport { FormAddText } from './formAddText';\n\nconst textsDocument = new TextsDocument();\nnew FormAddText(textsDocument.addText);\n\naddTestText();\n// ---------------------\nfunction addTestText() {\n  textsDocument.addText(\n    'Lorem ipsum dolor sit amet, consectetur adipiscing elit. '\n  );\n\n  textsDocument.addText(\n    'Integer euismod, sapien ac sodales consectetur, metus tellus consequat nisl, '\n  );\n  textsDocument.addText(\n    'nec dignissim enim odio vel metus. Sed sed tellus nec elit sagittis tempus. Mauris nec commodo ipsum.'\n  );\n\n  textsDocument.addText(\n    'Vivamus auctor fringilla sapien, eu tincidunt lacus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Ut dignissim, velit vel consequat fermentum, libero risus venenatis quam, eu fermentum velit nulla non magna.'\n  );\n  textsDocument.addText(\n    `Duis convallis pretium erat, sit amet luctus mauris mattis eu. Proin auctor orci quis felis pulvinar, ac eleifend sapien posuere. Integer at libero libero.`\n  );\n  textsDocument.addText(\n    'Sed nec dapibus leo. Nulla facilisi. Vestibulum et erat vel nisi maximus malesuada. Mauris vestibulum odio ac nunc volutpat, ac malesuada sapien vestibulum. Proin quis risus ut magna accumsan malesuada.'\n  );\n  textsDocument.addText(\n    'Cras ullamcorper nisi eu sem laoreet, vel suscipit est consequat. Sed nec luctus ipsum. Suspendisse sit amet libero vel arcu rutrum scelerisque. Vivamus convallis semper justo, id ultricies velit fringilla a.'\n  );\n  textsDocument.addText(\n    'Phasellus vel ultrices eros. In vitae justo quis felis consectetur convallis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.'\n  );\n}\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","set","writable","$665014edacbfe17b$exports","instance","Constructor","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","parcelRequire","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","$a11a0d8e92c06afc$exports","$a11a0d8e92c06afc$var$_classExtractFieldDescriptor","$a11a0d8e92c06afc$var$_classApplyDescriptorSet","$a11a0d8e92c06afc$var$_interopRequireDefault","$82ce8d6f4ce6ea51$exports","privateSet","fn","$b5362597a15e80da$exports","$b5362597a15e80da$var$_checkPrivateRedeclaration","add","$b5362597a15e80da$var$_interopRequireDefault","$cec85eba0a352189$exports","key","enumerable","configurable","$74e7f8130373505f$var$_defineProperties","target","props","i","length","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$d7ff77dd15ccd87a$export$415e4fff089e0a0e","NodeFunction","classNameTextLine","arguments","this","className","param","x","y","document","elementsFromPoint","find","node","point","foundTextLineElement","findLineElementUnderCoordinates","nodeName","textElement","text_nodes","Array","from","childNodes","filter","nodeType","Node","TEXT_NODE","nodeValue","match","forEach","letters","split","fragment","createDocumentFragment","letter","index","letterElem","createElement","_this1","dataset","number","textContent","appendChild","_this","replaceChild","e","newChild","oldChild","parentNode","hit_elem","hit_letter","original_content","cloneNode","_this2","$ed67fb6a024d70c5$var$_movingChosenLetterToAnotherElement","WeakSet","$ed67fb6a024d70c5$var$_movingChosenLetterToThisElement","$ed67fb6a024d70c5$var$_createArrayIndexToDelete","$ed67fb6a024d70c5$var$_deleteMovingLetters","$ed67fb6a024d70c5$export$2994981a11cbc28b","MovingStructure","$parcel$interopDefault","clearStructure","elementFrom","originalElementFrom","elementTo","originalElementTo","movingLetters","elementToMove","reduce","result","element","push","letterElement","sort","element1","element2","Number","isExistOriginalToDocument","$ed67fb6a024d70c5$var$movingChosenLetterToAnotherElement","$ed67fb6a024d70c5$var$movingChosenLetterToThisElement","originalTextContent","numberInsertPosition","insertText","getTextMovingLetters","substring","arrayIndexToDelete","$ed67fb6a024d70c5$var$createArrayIndexToDelete","originalTextContentFrom","$ed67fb6a024d70c5$var$deleteMovingLetters","newTextContent","countInsertLetter","isAddOptions","indexesToRemove","map","a","b","text","chars","splice","join","$17d75c2692ec7563$var$_addListeners","$17d75c2692ec7563$export$8d01c972ee8b14a9","Canvas","ref","classNameCanvas","elementOwner","recElementOwner","getBoundingClientRect","canvasRef","width","height","window","innerWidth","innerHeight","startX","startY","isDrawing","canvas","ctx","getContext","stopDrawing","clearRect","addEventListener","event","isAllowDrawing","clientX","left","clientY","top","beginPath","strokeStyle","rect","stroke","querySelector","concat","$17d75c2692ec7563$var$addListeners","resizeCanvas","listenerCanvas","$8109419796c4ef6f$export$ec9fb3e15c832b21","RecSelection","clearRec","startPoint","currentPoint","recElement","isCoordinateYInRec","bottom","isStartSelectInElementOnAxisY","Math","max","min","leftCoordinate","rightCoordinate","right","topCoordinate","bottomCoordinate","recTestElement","$3d3d75270917222b$var$_statuses","WeakMap","$3d3d75270917222b$var$_currentStatusOperation","$3d3d75270917222b$var$_isControlDown","$3d3d75270917222b$var$_isMouseDown","$3d3d75270917222b$var$_isShowMovingText","$3d3d75270917222b$var$_addListeners","$3d3d75270917222b$var$_restoreOriginalElement","$3d3d75270917222b$var$_clearToMovingStructure","$3d3d75270917222b$var$_isUnderCursorSelectedTextElement","$3d3d75270917222b$var$_addMovingLetterToMovingStructure","$3d3d75270917222b$var$_addLetterToMovingStructure","$3d3d75270917222b$var$_movingChosenLetter","$3d3d75270917222b$var$_mouseSelectionRec","$3d3d75270917222b$var$_foundWorkElement","$3d3d75270917222b$var$_isElementWithText","$3d3d75270917222b$var$_foundLetterInRec","$3d3d75270917222b$var$_foundAndSelectLetterInRec","$3d3d75270917222b$var$_combineWithMovingLetters","$3d3d75270917222b$var$_clearUnnecessarySelectedElement","$3d3d75270917222b$var$_showMovingText","$3d3d75270917222b$var$_hideMovingText","$3d3d75270917222b$var$_moveMovingText","$3d3d75270917222b$var$_isStatusOperation","$3d3d75270917222b$var$_toStatusSelectedRec","$3d3d75270917222b$var$_toStatusSelectedLetter","$3d3d75270917222b$var$_toStatusMovingLetter","$3d3d75270917222b$var$_toStatusReady","$3d3d75270917222b$var$_toStatusWaitMovingRec","$3d3d75270917222b$var$_hideMovingElements","$3d3d75270917222b$var$_handleMouseDown","$3d3d75270917222b$var$_handleMouseUp","$3d3d75270917222b$var$_handleMouseMoveLetter","$3d3d75270917222b$var$_handleMouseSelectionRec","$3d3d75270917222b$var$_handleKeyUp","$3d3d75270917222b$var$addListeners","$3d3d75270917222b$var$restoreOriginalElement","movingStructure","isExistOriginalFromDocument","nodeFunction","$3d3d75270917222b$var$clearToMovingStructure","$3d3d75270917222b$var$isUnderCursorSelectedTextElement","foundElementTo","isElementInStructure","$3d3d75270917222b$var$addMovingLetterToMovingStructure","isElementToEqualElementFrom","addElementTo","replaceSplitsCopyTextElement","foundElementToMove","findElementWithLetter","$3d3d75270917222b$var$addLetterToMovingStructure","foundElementFrom","isMovingLettersNotEmpty","isSavedElementFromEqualElementFrom","isSavedElement","addElementFrom","foundElementWithLetter","deleteElementFromStructure","selection","addElementToStructure","$3d3d75270917222b$var$movingChosenLetter","toMoveLetters","$3d3d75270917222b$var$foundWorkElement","textElements","textsDocumentRef","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","recSelection","isElementInRecSelection","$3d3d75270917222b$var$isElementWithText","isElementUnderRecSelection","err","return","$3d3d75270917222b$var$foundLetterInRec","onlyFirst","children","newMovingLetters","elementWithLetter","rectElementWithLetter","isElementInSelectedAxisX","isElementInSelectedAxisY","$3d3d75270917222b$var$foundAndSelectLetterInRec","clearMovingLetters","$3d3d75270917222b$var$clearUnnecessarySelectedElement","$3d3d75270917222b$var$combineWithMovingLetters","indexElement","findIndex","i1","_loop","rectFirstLetter","isElementInAnotherLine","sortMovingLetters","selectedElements","$3d3d75270917222b$var$isStatusOperation","status","$3d3d75270917222b$var$toStatusSelectedRec","selected_rec","setStartPoint","removeEventListener","$3d3d75270917222b$var$toStatusSelectedLetter","selected_letter","$3d3d75270917222b$var$toStatusMovingLetter","moving_letter","$3d3d75270917222b$var$toStatusReady","ready","$3d3d75270917222b$var$toStatusWaitMovingRec","wait_moving_rec","$3d3d75270917222b$var$hideMovingElements","$33180d493b68b42b$var$_addListener","$33180d493b68b42b$var$_handleSubmitForm","$33180d493b68b42b$var$addListener","textForm","$33180d493b68b42b$var$handleSubmitForm","bind","form","preventDefault","addText","elements","trim","reset","$b8f9b7833fa37166$var$textsDocument","TextsDocument","classNameTextsDocument","classNameMovingText","htmlText","insertAdjacentHTML","setCurrentPoint","movingTextsDocumentRef","style","display","ctrlKey","isEmptyMovingLetters","_","throttle","trailing","FormAddText","classNameForm"],"version":3,"file":"index.c3f75741.js.map"}